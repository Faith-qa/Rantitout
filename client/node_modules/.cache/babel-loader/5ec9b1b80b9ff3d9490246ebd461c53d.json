{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useAuthContext } from './useAuthContext';\nexport const useSearch = () => {\n  _s();\n\n  const [err, setErr] = useState(\"null\");\n  const [isLoading, setIsLoading] = useState(null);\n  const [chat, setChat] = useState(null);\n  const {\n    user\n  } = useAuthContext();\n\n  const handlesearch = async chatdate => {\n    const url = `${process.env.REACT_APP_BASE_URL}/api/v1/chats/${user._id}/${new Date(chatdate).toISOString()}`;\n    console.log(url);\n    setErr(false);\n\n    try {\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      }); //console.log(response.data)\n\n      const json = await response.json(); //console.log(\"hello\", json)\n\n      if (json === 'chat was not found') {\n        setErr(JSON.stringify(json));\n        throw new Error(JSON.stringify(json)); //throw new Error(\"hello\")\n      }\n\n      console.log(json);\n    } catch (err) {\n      setErr(true);\n    }\n  };\n\n  return {\n    handlesearch,\n    err\n  };\n};\n\n_s(useSearch, \"iqGWGmpyBSAi5TF9aBzrzE6OHLI=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"sources":["/home/faith/personal_project/TalktoMe/client/src/hooks/useSearch.jsx"],"names":["React","useState","useAuthContext","useSearch","err","setErr","isLoading","setIsLoading","chat","setChat","user","handlesearch","chatdate","url","process","env","REACT_APP_BASE_URL","_id","Date","toISOString","console","log","response","fetch","method","headers","Authorization","token","json","JSON","stringify","Error"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AAEA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBJ,QAAQ,CAAC,MAAD,CAA9B;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM;AAACS,IAAAA;AAAD,MAASR,cAAc,EAA7B;;AAMA,QAAMS,YAAY,GAAG,MAAMC,QAAN,IAAkB;AACnC,UAAMC,GAAG,GAAI,GAAEC,OAAO,CAACC,GAAR,CAAYC,kBAAmB,iBAAgBN,IAAI,CAACO,GAAI,IAAG,IAAIC,IAAJ,CAASN,QAAT,EAAmBO,WAAnB,EAAiC,EAA3G;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ;AACAR,IAAAA,MAAM,CAAC,KAAD,CAAN;;AAEA,QAAG;AACC,YAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAD,EAAM;AAC9BW,QAAAA,MAAM,EAAE,KADsB;AAE9BC,QAAAA,OAAO,EAAE;AAACC,UAAAA,aAAa,EAAG,UAAShB,IAAI,CAACiB,KAAM;AAArC;AAFqB,OAAN,CAA5B,CADD,CAMC;;AACA,YAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACM,IAAT,EAAnB,CAPD,CAQA;;AAEA,UAAIA,IAAI,KAAK,oBAAb,EAAmC;AAClCvB,QAAAA,MAAM,CAACwB,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAD,CAAN;AACA,cAAM,IAAIG,KAAJ,CAAUF,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAV,CAAN,CAFkC,CAGlC;AACA;;AACDR,MAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ;AAMF,KArBD,CAqBC,OAAMxB,GAAN,EAAU;AACPC,MAAAA,MAAM,CAAC,IAAD,CAAN;AAEH;AAGJ,GAhCD;;AAkCA,SAAO;AAACM,IAAAA,YAAD;AAAeP,IAAAA;AAAf,GAAP;AACH,CA7CM;;GAAMD,S;UAIMD,c","sourcesContent":["import React, {useState} from 'react'\n\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSearch = () => {\n    const [err, setErr] = useState(\"null\")\n    const [isLoading, setIsLoading] = useState(null)\n    const [chat, setChat] = useState(null)\n    const {user} = useAuthContext()\n\n    \n\n\n\n    const handlesearch = async(chatdate) =>{\n        const url = `${process.env.REACT_APP_BASE_URL}/api/v1/chats/${user._id}/${new Date(chatdate).toISOString()}`;\n        console.log(url)\n        setErr(false)\n\n        try{\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {Authorization: `Bearer ${user.token}`}\n            })\n\n            //console.log(response.data)\n            const json = await response.json()\n           //console.log(\"hello\", json)\n\n           if (json === 'chat was not found') {\n            setErr(JSON.stringify(json));\n            throw new Error(JSON.stringify(json))\n            //throw new Error(\"hello\")\n           }\n           console.log(json)\n\n        \n\n\n\n        }catch(err){\n            setErr(true);\n\n        }\n\n\n    }\n\n    return {handlesearch, err}\n}\n\n  "]},"metadata":{},"sourceType":"module"}